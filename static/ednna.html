<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Ednna Assistente</title>
  <style>
    body {
      margin: 0;
      font-family: "Inter","Roboto",sans-serif;
      background: transparent;
    }
    #ednna-container {
      position: relative;
      bottom: 0;
      right: 0;
      width: 360px;
      height: 520px;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: flex-end;
    }
    #ednna-btn {
      position: absolute;
      bottom: 20px;
      right: 20px;
      width: 65px;
      height: 65px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      background: #ff6d00;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.25s ease;
      animation: pulseEdnna 3s infinite;
    }
    #ednna-btn:hover { transform: scale(1.1); }
    #ednna-btn img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }

    @keyframes pulseEdnna {
      0% { box-shadow: 0 0 0 0 rgba(255,109,0,0.5); }
      70% { box-shadow: 0 0 0 12px rgba(255,109,0,0); }
      100% { box-shadow: 0 0 0 0 rgba(255,109,0,0); }
    }

    #ednna-chat {
      position: absolute;
      bottom: 95px;
      right: 20px;
      width: 320px;
      height: 400px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.25);
      display: none;
      flex-direction: column;
      overflow: hidden;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    #ednna-header {
      background: #ff6d00;
      color: #fff;
      padding: 10px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #ednna-header h4 {
      margin: 0;
      font-size: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    #ednna-header img {
      width: 22px;
      height: 22px;
      border-radius: 50%;
    }
    #ednna-close {
      background: none;
      border: none;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
    }
    #ednna-messages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      font-size: 14px;
    }
    .msg { padding: 8px 10px; border-radius: 8px; margin-bottom: 8px; max-width: 80%; }
    .msg.ednna { background: #fff5ef; color: #444; align-self: flex-start; }
    .msg.user { background: #ff9100; color: #fff; align-self: flex-end; }
    #ednna-input {
      display: flex;
      border-top: 1px solid #eee;
    }
    #ednna-input input {
      flex: 1;
      padding: 8px;
      border: none;
      outline: none;
      font-size: 14px;
    }
    #ednna-input button {
      background: #ff6d00;
      color: #fff;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      transition: background 0.2s;
    }
    #ednna-input button:hover { background: #e55f00; }
  </style>
</head>
<body>
  <div id="ednna-container">
    <button id="ednna-btn" title="Falar com Ednna">
      <img src="ednna_avatar.png" alt="Ednna">
    </button>

    <div id="ednna-chat">
      <div id="ednna-header">
        <h4><img src="ednna_avatar.png" alt="Ednna"> Ednna</h4>
        <button id="ednna-close">Ã—</button>
      </div>
      <div id="ednna-messages">
        <div class="msg ednna">OlÃ¡ ðŸ‘‹ Sou a Ednna!<br>Posso te ajudar com dÃºvidas sobre status, logs ou arquivos processados.</div>
      </div>
      <div id="ednna-input">
        <input type="text" id="ednna-text" placeholder="Digite sua pergunta..." />
        <button id="send-btn">âž¤</button>
      </div>
    </div>
  </div>

  <script>
    const btn = document.getElementById("ednna-btn");
    const chat = document.getElementById("ednna-chat");
    const close = document.getElementById("ednna-close");
    const input = document.getElementById("ednna-text");
    const messages = document.getElementById("ednna-messages");

    btn.onclick = () => chat.style.display = chat.style.display === "flex" ? "none" : "flex";
    close.onclick = () => chat.style.display = "none";

    document.getElementById("send-btn").onclick = sendMessage;
    input.addEventListener("keypress", e => { if (e.key === "Enter") sendMessage(); });

    function sendMessage() {
      const text = input.value.trim();
      if (!text) return;
      addMessage("user", text);
      input.value = "";
      setTimeout(() => addMessage("ednna", gerarResposta(text)), 600);
    }

    function addMessage(type, text) {
      const msg = document.createElement("div");
      msg.className = `msg ${type}`;
      msg.textContent = text;
      messages.appendChild(msg);
      messages.scrollTop = messages.scrollHeight;
    }

    function gerarResposta(msg) {
      const t = msg.toLowerCase();
      if (t.includes("erro")) return "Verifique o histÃ³rico de processamentos para detalhes.";
      if (t.includes("status")) return "O Splitter atualiza o status automaticamente a cada 30s.";
      if (t.includes("download")) return "VocÃª pode baixar os arquivos ZIPs em 'Arquivos Gerados'.";
      if (t.includes("oi") || t.includes("olÃ¡")) return "Oi! ðŸ˜Š Como posso ajudar?";
      return "Posso te ajudar com dÃºvidas sobre o painel, logs ou processamento dos arquivos.";
    }
  </script>
</body>
</html>
